{
  "metadata": {
    "generated_from": "parser-ontology.ttl",
    "imports": "https://clearhead.us/vocab/actions/v3",
    "version": "1.0.0",
    "generated_at": "2025-11-06T10:50:53.426Z",
    "parser": "N3.js (proper RDF parsing)"
  },
  "rule_types": {
    "choice": "Fixed set of values from constraints",
    "pattern": "Regex pattern validation",
    "uuid_v7": "Version 7 UUID format",
    "date_time": "ISO 8601 date/time format",
    "integer": "Numeric value with optional constraints",
    "text": "Free text with escaping rules",
    "reference": "Reference to another object",
    "computed": "Calculated from other properties"
  },
  "properties": {
    "hasUUID": {
      "symbol": "#",
      "rule_type": "uuid_v7",
      "grammar_rule_name": "id",
      "context": "any_level",
      "format_hint": "Version 7 UUID with optional dashes",
      "example": "#01951111-cfa6-718d-b303-d7107f4005b3"
    },
    "name": {
      "symbol": {
        "termType": "Literal",
        "value": "",
        "language": "",
        "datatype": {
          "termType": "NamedNode",
          "value": "http://www.w3.org/2001/XMLSchema#string"
        }
      },
      "rule_type": "text",
      "grammar_rule_name": "name",
      "context": "any_level",
      "format_hint": "Free text, escape special chars with backslash",
      "example": "Review quarterly reports"
    },
    "hasState": {
      "symbol": {
        "termType": "Literal",
        "value": "",
        "language": "",
        "datatype": {
          "termType": "NamedNode",
          "value": "http://www.w3.org/2001/XMLSchema#string"
        }
      },
      "rule_type": "choice",
      "grammar_rule_name": "state",
      "context": "any_level",
      "format_hint": "( )=not started, (x)=completed, (-)=in progress, (=)=blocked, (_)=cancelled",
      "example": "(x)",
      "special_syntax": "ParenthesisSyntax",
      "values": [
        " ",
        "x",
        "-",
        "=",
        "_"
      ]
    },
    "hasDepth": {
      "symbol": {
        "termType": "Literal",
        "value": "",
        "language": "",
        "datatype": {
          "termType": "NamedNode",
          "value": "http://www.w3.org/2001/XMLSchema#string"
        }
      },
      "rule_type": "integer",
      "grammar_rule_name": "calculated_depth",
      "context": "any_level",
      "format_hint": "Auto-calculated from nesting level (0-5)",
      "computed": true
    },
    "hasPriority": {
      "symbol": "!",
      "rule_type": "choice",
      "grammar_rule_name": "priority",
      "context": "any_level",
      "format_hint": "Eisenhower matrix: 1=urgent+important, 4=neither",
      "example": "!2",
      "values": [
        "1",
        "2",
        "3",
        "4"
      ],
      "min_value": 1,
      "max_value": 4
    },
    "hasContext": {
      "symbol": "+",
      "rule_type": "pattern",
      "grammar_rule_name": "context",
      "context": "any_level",
      "format_hint": "GTD contexts: +office,computer,phone",
      "example": "+Driving,Store,Market",
      "can_repeat": true,
      "special_syntax": "ListSyntax",
      "pattern": "[a-zA-Z0-9_-]+(,[a-zA-Z0-9_-]+)*"
    },
    "description": {
      "symbol": "$",
      "rule_type": "text",
      "grammar_rule_name": "description",
      "context": "any_level",
      "format_hint": "Extended description text",
      "example": "$ Make sure you get the stuff from the butcher directly"
    },
    "hasProject": {
      "symbol": "*",
      "rule_type": "text",
      "grammar_rule_name": "project",
      "context": "root_only",
      "format_hint": "Project/story name for root actions only",
      "example": "*Run Errands"
    },
    "hasParentPlan": {
      "symbol": ">",
      "rule_type": "reference",
      "grammar_rule_name": "depth",
      "context": "child_only",
      "format_hint": "Hierarchical depth: > child, >> grandchild, etc.",
      "example": "> Child action",
      "special_syntax": "DepthMarker"
    },
    "hasDoDateTime": {
      "symbol": "@",
      "rule_type": "date_time",
      "grammar_rule_name": "do_date_or_time",
      "context": "any_level",
      "format_hint": "ISO 8601: @2025-01-20T14:30 or @2025-01-20 or @14:30",
      "example": "@2025-01-20T14:30"
    },
    "hasCompletedDateTime": {
      "symbol": "%",
      "rule_type": "date_time",
      "grammar_rule_name": "completed_date",
      "context": "any_level",
      "format_hint": "Auto-generated completion timestamp",
      "example": "%2025-01-19T10:30"
    },
    "hasDurationMinutes": {
      "symbol": "D",
      "rule_type": "integer",
      "grammar_rule_name": "duration",
      "context": "any_level",
      "format_hint": "Duration in minutes: D90",
      "example": "D30",
      "min_value": 1,
      "max_value": 10080
    },
    "DurationPatternShape": {
      "symbol": "D",
      "rule_type": "integer",
      "grammar_rule_name": "duration",
      "context": "any_level"
    },
    "hasRecurrenceFrequency": {
      "symbol": "R",
      "rule_type": "choice",
      "grammar_rule_name": "recurrence",
      "context": "any_level",
      "format_hint": "Recurrence: RD=daily, RW=weekly, RM=monthly, RY=yearly",
      "example": "RW",
      "values": [
        "DAILY",
        "WEEKLY",
        "MONTHLY",
        "YEARLY"
      ],
      "value_mappings": [
        {
          "from": "DAILY",
          "to": "D"
        },
        {
          "from": "WEEKLY",
          "to": "W"
        },
        {
          "from": "MONTHLY",
          "to": "M"
        },
        {
          "from": "YEARLY",
          "to": "Y"
        }
      ]
    },
    "hasRecurrenceInterval": {
      "symbol": "I",
      "rule_type": "integer",
      "grammar_rule_name": "recurrence_interval",
      "context": "any_level",
      "format_hint": "Recurrence interval: I2 = every 2nd occurrence",
      "example": "I2"
    },
    "hasRecurrenceCount": {
      "symbol": "C",
      "rule_type": "integer",
      "grammar_rule_name": "recurrence_count",
      "context": "any_level",
      "format_hint": "Max recurrence count: C10",
      "example": "C10"
    },
    "hasRecurrenceUntil": {
      "symbol": "U",
      "rule_type": "date_time",
      "grammar_rule_name": "recurrence_until",
      "context": "any_level",
      "format_hint": "Recurrence end date: U2025-12-31",
      "example": "U2025-12-31"
    },
    "ActionDepthShape": {
      "symbol": "",
      "rule_type": "text",
      "grammar_rule_name": "depth",
      "context": "any_level"
    },
    "ISODatePatternShape": {
      "symbol": "",
      "rule_type": "pattern",
      "grammar_rule_name": "iso_date",
      "context": "any_level"
    },
    "ISOTimePatternShape": {
      "symbol": "",
      "rule_type": "pattern",
      "grammar_rule_name": "iso_time",
      "context": "any_level"
    },
    "ISODateTimePatternShape": {
      "symbol": "",
      "rule_type": "pattern",
      "grammar_rule_name": "iso_date_time",
      "context": "any_level"
    },
    "SafeTextPatternShape": {
      "symbol": "",
      "rule_type": "computed",
      "grammar_rule_name": "safe_text",
      "context": "any_level"
    },
    "ContextListPatternShape": {
      "symbol": "",
      "rule_type": "pattern",
      "grammar_rule_name": "context_list",
      "context": "any_level"
    }
  },
  "structures": {
    "root_action": [
      {
        "rule": "state",
        "required": true
      },
      {
        "rule": "name",
        "required": true
      },
      {
        "rule": "description",
        "required": false
      },
      {
        "rule": "priority",
        "required": false
      },
      {
        "rule": "project",
        "required": false
      },
      {
        "rule": "context",
        "required": false
      },
      {
        "rule": "do_date_or_time",
        "required": false
      },
      {
        "rule": "completed_date",
        "required": false
      },
      {
        "rule": "duration",
        "required": false
      },
      {
        "rule": "recurrence",
        "required": false
      },
      {
        "rule": "recurrence_interval",
        "required": false
      },
      {
        "rule": "recurrence_count",
        "required": false
      },
      {
        "rule": "recurrence_until",
        "required": false
      },
      {
        "rule": "id",
        "required": false
      },
      {
        "rule": "children",
        "required": false
      }
    ],
    "child_action": [
      {
        "rule": "depth",
        "required": true
      },
      {
        "rule": "state",
        "required": true
      },
      {
        "rule": "name",
        "required": true
      },
      {
        "rule": "description",
        "required": false
      },
      {
        "rule": "priority",
        "required": false
      },
      {
        "rule": "context",
        "required": false
      },
      {
        "rule": "do_date_or_time",
        "required": false
      },
      {
        "rule": "completed_date",
        "required": false
      },
      {
        "rule": "duration",
        "required": false
      },
      {
        "rule": "recurrence",
        "required": false
      },
      {
        "rule": "recurrence_interval",
        "required": false
      },
      {
        "rule": "recurrence_count",
        "required": false
      },
      {
        "rule": "recurrence_until",
        "required": false
      },
      {
        "rule": "id",
        "required": false
      },
      {
        "rule": "children",
        "required": false
      }
    ]
  },
  "state_mappings": {
    "NotStarted": " ",
    "Completed": "x",
    "InProgress": "-",
    "Blocked": "=",
    "Cancelled": "_"
  },
  "utility_patterns": {
    "duration": {
      "grammarRuleName": "duration",
      "ruleType": "integer"
    },
    "depth": {
      "grammarRuleName": "depth"
    },
    "iso_date": {
      "grammarRuleName": "iso_date",
      "ruleType": "pattern",
      "pattern": "\\d{4}-\\d{2}-\\d{2}"
    },
    "iso_time": {
      "grammarRuleName": "iso_time",
      "ruleType": "pattern",
      "pattern": "\\d{2}:\\d{2}"
    },
    "iso_date_time": {
      "grammarRuleName": "iso_date_time",
      "ruleType": "pattern",
      "pattern": "\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}"
    },
    "safe_text": {
      "grammarRuleName": "safe_text",
      "ruleType": "computed",
      "repeatMode": "repeat1",
      "computedFrom": "property_symbols",
      "pattern": "\\$!*+@%>#\\(\\)\\n\\s",
      "exclude": "\\$!*+@%>#\\(\\)\\n\\s"
    },
    "context_list": {
      "grammarRuleName": "context_list",
      "ruleType": "pattern",
      "pattern": "[a-zA-Z0-9_-]+(,[a-zA-Z0-9_-]+)*"
    }
  },
  "depth_constraint": {
    "minDepth": 1,
    "maxDepth": 5,
    "depthSymbol": ">",
    "grammarRuleName": "depth"
  },
  "grammar_metadata": {
    "entryPoint": "action_list",
    "rootRule": "root_action",
    "repeatMode": "repeat",
    "whitespaceHandling": "extras",
    "conflictRules": "child_action"
  },
  "special_syntax": {}
}